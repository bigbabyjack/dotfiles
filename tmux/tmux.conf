# ============================================================================
# TMUX CONFIGURATION - Optimized for frequent window switching
# ============================================================================

# Change prefix from C-b to C-space
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# set on top
set -g status-position top

# ============================================================================
# VISUAL STYLING - Tokyo Night Moon Theme
# ============================================================================

# Colors and terminal support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"

# Tokyo Night Moon color scheme
set -g status-bg '#222436'
set -g status-fg '#c8d3f5'

# Pane borders
set -g pane-border-style 'fg=#3b4261'
set -g pane-active-border-style 'fg=#82aaff'

# Window status styling
set -g window-status-current-style 'fg=#82aaff,bg=#2d3f76'
set -g window-status-style 'fg=#828bb8'

# Status bar configuration
set -g status-left-length 40
set -g status-right-length 50
set -g status-left "#[fg=#86e1fc,bg=#222436] #S #[fg=#3b4261]│ "
set -g status-right "#[fg=#c3e88d] %H:%M #[fg=#3b4261]│ #[fg=#ffc777]%d %b #[fg=#3b4261]"

# Window status with Tokyo Night Moon colors
set -g window-status-format " #[fg=#828bb8]#I:#W "
set -g window-status-current-format "#[fg=#82aaff,bg=#2d3f76] #I:#W "

# Message styling
set -g message-style 'fg=#c8d3f5,bg=#2d3f76'
set -g message-command-style 'fg=#c8d3f5,bg=#2d3f76'

# Copy mode highlighting
setw -g mode-style 'fg=#222436,bg=#82aaff'

# ============================================================================
# DIRECT ACCESS KEYBINDS (No leader - fastest access)
# ============================================================================

# Direct access with prefix (still very fast - one key after prefix)
bind 1 select-window -t 1
bind 2 select-window -t 2
bind 3 select-window -t 3
bind 4 select-window -t 4
bind 5 select-window -t 5
bind 6 select-window -t 6

# Try escape sequences for Alt+numbers (sometimes works better)
bind -n '\e1' select-window -t 1
bind -n '\e2' select-window -t 2
bind -n '\e3' select-window -t 3
bind -n '\e4' select-window -t 4

# Quick sessionizer access
bind -n M-f run-shell "tmux neww tmux-sessionizer"

# ============================================================================
# LEADER-BASED OPERATIONS (Ctrl+Space + key)
# ============================================================================

# Window management
bind c new-window
bind x kill-window
bind r command-prompt -I "#W" "rename-window '%%'"

# Move windows left/right (reorder tabs)
bind H swap-window -d -t -1
bind L swap-window -d -t +1

# Pane splits (vim-style)
bind v split-window -h
bind s split-window -v

# Pane navigation (vim motions)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind o select-pane -t :.+
bind z resize-pane -Z

# Session management
bind f run-shell "tmux neww tmux-sessionizer"
bind d detach-client

# ============================================================================
# ESSENTIAL SETTINGS
# ============================================================================

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Faster command sequences
set -s escape-time 0

# Mouse support
set -g mouse on
